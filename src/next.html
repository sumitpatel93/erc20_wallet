<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>TutorialToken - Wallet</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
   <link rel="stylesheet" type="text/css" href="./css/style.css">
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="col-md-12 main-wrapper">
     
      <h3>Top Five Tokens</h3>
       <table class="table table-bordered">
    <thead>
      <tr>
        <th>Token Name</th>
        <th>Symbol</th>
        <th>Rate</th>
        
      
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><div id="id01"></div></td>
        <td><div id="sy1"></div></td>
        <td><div id="p1"></div></td>       
       
      </tr>
      <tr>
        <td><div id="id02"></td>
        <td><div id="sy2"></div></td>
        <td><div id="p2"></div></td>        
       
      </tr>
      <tr>
        <td><div id="id03"></td>
        <td><div id="sy3"></div></td>
        <td><div id="p3"></div></td>       
       
      </tr>
      <tr>
        <td><div id="id04"></td>
        <td><div id="sy4"></div></td>
        <td><div id="p4"></div></td>       
       
      </tr>
      <tr>
        <td><div id="id05"></td>
        <td><div id="sy5"></div></td>
        <td><div id="p5"></div></td>       
       
      </tr>
    </tbody>
  </table>
  <div id="token-history-grouped-3"></div>



<script>

   var xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 && xhr.status == 200) {  
    var json = JSON.parse(xhr.responseText);              
      document.getElementById("id01").innerHTML = json.tokens[1].name;
      document.getElementById("id02").innerHTML = json.tokens[2].name;
      document.getElementById("id03").innerHTML = json.tokens[3].name;
      document.getElementById("id04").innerHTML = json.tokens[4].name;
      document.getElementById("id05").innerHTML = json.tokens[5].name;

      document.getElementById("sy1").innerHTML = json.tokens[1].symbol;
      document.getElementById("sy2").innerHTML = json.tokens[2].symbol;
      document.getElementById("sy3").innerHTML = json.tokens[3].symbol;
      document.getElementById("sy4").innerHTML = json.tokens[4].symbol;
      document.getElementById("sy5").innerHTML = json.tokens[5].symbol;

      document.getElementById("p1").innerHTML = json.tokens[1].price.rate;
      document.getElementById("p2").innerHTML = json.tokens[2].price.rate;
      document.getElementById("p3").innerHTML = json.tokens[3].price.rate;
      document.getElementById("p4").innerHTML = json.tokens[4].price.rate;
      document.getElementById("p5").innerHTML = json.tokens[5].price.rate;

     }
  };
  xhr.open("GET", "https://api.ethplorer.io/getTopTokens?apiKey=freekey");
  xhr.send();

 if (typeof (eWgs) === 'undefined') {
        document.write('<scr' + 'ipt src="https://api.ethplorer.io/widget.js?' + new Date().getTime().toString().substr(0, 7) + '" async></scr' + 'ipt>');
        var eWgs = [];
    }
    eWgs.push(function () {
        ethplorerWidget.init(
            '#token-history-grouped-3', // Placeholder element
            'tokenHistoryGrouped', // Widget type
            {
                'theme': 'dark',
                options: {

                    'title': 'Ethereum Tokens Pulse',
                    'hAxis': {
                        'title': '90 days token operations chart',
                    },
                    'vAxis': {
                        'title': 'Token operations',
                    }
                }
            }

        );
    });
</script>
     
   
     </div> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/web3.min.js"></script>
    <script src="js/truffle-contract.js"></script>
    <script src="js/app.js"></script>
  </body>
  </html>